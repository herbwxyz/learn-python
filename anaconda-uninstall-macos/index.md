# Mac用Anacondaを完全にアンインストールする手順

[< 戻る](../)

AnacondaやSpyderの挙動がおかしかったり起動できない場合、Anacondaをアンインストールして再度インストールすることで解決することがあります。

しかし、Macの場合、他のアプリのように**Anaconda Navigatorアプリをゴミ箱に捨てるだけではダメ**で、Anacondaを完全にアンインストールするには、Anacondaが断片的に残す設定ファイルを削除したり、Macの設定ファイルを書き換えたりする必要があります。

　

このページで、MacからAnacondaを完全にアンインストールする手順を説明します。

手順は1.から7.まであり、１ステップずつ順番に進めて、もし途中でわからなくなった場合や表示が手順の画像と違うような場合は、いったん中断してチャットで連絡をください。



## 1. ターミナルを起動する

まず、Macの「アプリケーション」にある「ターミナル」アプリを起動します。
このような画面が表示されます。Macの設定によっては、画面は白色かもしれません。

<img src="assets/スクリーンショット 2023-06-02 17.25.25.png" alt="スクリーンショット 2023-06-02 17.25.25" style="zoom:50%;" />

もし、最初の行頭に`(base)`と表示されていない場合は、ターミナルに

```sh
source $CONDA_PREFIX/bin/activate
```

と打ち込んで（コピペで大丈夫です）エンターキーを押すと、次の画像のように行頭に`(base)`が表示されるはずです。

<img src="assets/スクリーンショット 2023-06-02 21.50.54.png" alt="スクリーンショット 2023-06-02 21.50.54" style="zoom:50%;" />

もしそれでも`(base)`が表示されない場合は、この先の作業ができないので、チャットで連絡をください。

行頭に`(base)`が表示されていれば、次のステップに進んでください。



## 2. 「Anaconda3」のインストール先を確認する

Anacondaがどこにインストールされているかを確認します。

ターミナルに次のコマンドを入力して、エンターキーを押してください。

```sh
env | grep CONDA
```

次の画像のような文字が表示されます。

<img src="assets/スクリーンショット 2023-06-02 19.32.53.png" alt="スクリーンショット 2023-06-02 19.32.53" style="zoom:50%;" />

この中の、`CONDA_PREFIX`と書いてある行を見てください。

```sh
CONDA_PREFIX=/Users/aki/anaconda3
```

この「`/Users/aki/anaconda3`」が、Anacondaがインストールされているディレクトリを示しています。

「`aki`」は私のMacのユーザー名なので、みなさんは自身のユーザー名が表示されていると思います。

もしくは、人によってはユーザー名を含まず、

```sh
CONDA_PREFIX=/anaconda3
```

だったり、

```sh
CONDA_PREFIX=/Applications/Anaconda3
```

のように表示される場合もあります。
人によってインストール先は異なる場合があります。

ご自身のターミナルに表示されたインストール先ディレクトリ「`/Users/aki/anaconda3`」の部分は、手順5.で必要になるので、コピーしてどこかにメモしておいてください。



## 3. anaconda-cleanをインストールする

「`anaconda-clean`」という、Anacondaの設定ファイルを削除するツールをインストールします。

ターミナルに次のコマンドを打ち込んで、エンターキーを押してください。

```sh
conda install anaconda-clean
```

すると、次の画像のようにターミナルにいろいろと文字が表示されます。

<img src="assets/スクリーンショット 2023-06-02 17.43.13.png" alt="スクリーンショット 2023-06-02 17.43.13" style="zoom:50%;" />

一番最後の行に、`Proceed ([y]/n)?` （インストールを進めますか？yかnキーを押してください）と表示されているので、このまま「y」を入力して、エンターキーを押します。

するとインストールが進行して、次の画像のように「done」が表示されたらインストールは完了です。

<img src="assets/スクリーンショット 2023-06-02 19.17.19.png" alt="スクリーンショット 2023-06-02 19.17.19" style="zoom:50%;" />

## 4. anaconda-cleanを実行する

ターミナルに、次のコマンドを打ち込んで、エンターキーを押してください。

```
anaconda-clean
```

この画像（の一番最後の行）のように、また`(y/n)`を聞かれるので、

<img src="assets/スクリーンショット 2023-06-02 19.20.46.png" alt="スクリーンショット 2023-06-02 19.20.46" style="zoom:50%;" />

このまま「y」を入力してエンターキーを押します。

次の画像のように、３〜４回同じように入力を求められるので、すべて同じように「y」を入力してエンターを押していきます。
入力を求められなくなったら、`anaconda-clean`は完了です。

<img src="assets/スクリーンショット 2023-06-02 19.21.35.png" alt="スクリーンショット 2023-06-02 19.21.35" style="zoom:50%;" />

## 5. 「Anaconda3」のインストール先ディレクトリを削除する

手順1.で確認したAnacondaのインストール先ディレクトリを削除します。

ターミナルに、`rm -fr `の後に半角スペースを空けて手順1.で確認したインストール先ディレクトリの文字列を貼り付けてください。

つまり**私の場合は、Anacondaのインストール先ディレクトリが「`/Users/aki/anaconda3`」だったので、**

```sh
rm -fr /Users/aki/anaconda3
```

 となります。**インストール先ディレクトリの部分は人によって異なりますので注意してください。**
もし手順1.で表示されたインストール先が「`/anaconda3`」だったならば、打ち込むコマンドは

```sh
rm -fr /anaconda3
```

になります。

コマンドを打ち込んだら、エンターキーを押してください。

<img src="assets/スクリーンショット 2023-06-02 21.40.54.png" alt="スクリーンショット 2023-06-02 21.40.54" style="zoom:50%;" />

上の画像の状態は、削除している最中ですので、このまま待ちます。

下の画像のように次の行が表示されたら（次のコマンドを入力できる状態になったら）、削除は完了です。

<img src="assets/スクリーンショット 2023-06-02 21.43.02.png" alt="スクリーンショット 2023-06-02 21.43.02" style="zoom:50%;" />

## 6. Macの設定ファイルの中のAnacondaの設定を消す

最後の手順です。次のコマンドを打ち込んでエンターを押してください。

```sh
open ~/.zshrc
```

<img src="assets/スクリーンショット 2023-06-02 22.03.27.png" alt="スクリーンショット 2023-06-02 22.03.27" style="zoom:50%;" />

すると、次のようにMacの設定ファイルがテキストエディタで開きます。

<img src="assets/スクリーンショット 2023-06-02 22.05.40.png" alt="スクリーンショット 2023-06-02 22.05.40" style="zoom:50%;" />

この中の`# >>> conda init >>>`から`# <<< conda init <<<`までの行がすべて、Anacondaの設定なので、この範囲を選択して消します。

<img src="assets/スクリーンショット 2023-06-02 22.07.01.png" alt="スクリーンショット 2023-06-02 22.07.01" style="zoom:50%;" />

削除すると、このようになりますね。

<img src="assets/スクリーンショット 2023-06-02 22.07.33.png" alt="スクリーンショット 2023-06-02 22.07.33" style="zoom:50%;" />

削除できたら、この状態でテキストファイルを保存してください。
上のメニューバーの「ファイル」→「保存」を押すか、もしくは「⌘Command」キーを押しながら「S」キーを押しても保存できます。

<img src="assets/スクリーンショット 2023-06-02 22.09.21.png" alt="スクリーンショット 2023-06-02 22.09.21" style="zoom:50%;" />

テキストエディタの上部の赤丸部分に表示されていた「編集済み」という表示が消えていたら、保存できたことを意味します。

<img src="assets/スクリーンショット 2023-06-02 22.15.06.png" alt="スクリーンショット 2023-06-02 22.15.06" style="zoom:50%;" />

Macには、もうひとつ同じような設定ファイルがある場合がある（Macによっては無いです）ので、そちらも編集します。

次のコマンドを打ち込んでエンターを押してください。

```sh
open ~/.bash_profile
```

<img src="assets/スクリーンショット 2023-06-02 22.20.17.png" alt="スクリーンショット 2023-06-02 22.20.17" style="zoom:50%;" />

さきほどと同じようにテキストエディタが開いたら、同じように`# >>> conda init >>>`から`# <<< conda init <<<`までの行を選択して削除し、保存してください。

もし、このもう一つの設定ファイルが無い場合、次のように「ファイルが存在しません」というエラーメッセージが表示されます。その場合は特に何もしなくて大丈夫です。

<img src="assets/スクリーンショット 2023-06-02 22.24.02.png" alt="スクリーンショット 2023-06-02 22.24.02" style="zoom:50%;" />

### 7. 「アプリケーション」のショートカットを削除する

最後に「アプリケーション」ディレクトリに **Anaconda-Navigator.app** というショートカットが残っている場合があるので、それも削除してください。

<img src="assets/スクリーンショット 2023-06-02 23.10.51.png" alt="スクリーンショット 2023-06-02 23.10.51" style="zoom:50%;" />

　

---

さて、これでMacからAnacondaを完全にアンインストールすることができましたので、テキストのインストールの手順に沿って、再度インストールを進めてみてください。

　

[< 戻る](../)